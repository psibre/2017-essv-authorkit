% LaTeX package for ESSV
%
% (c) Ingmar Steiner
%
%% This program can be redistributed and/or modified under the terms
%% of the LaTeX Project Public License Distributed from CTAN archives
%% in directory macros/latex/base/lppl.txt.
%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{essv}[2016/12/22 v0.9 LaTeX package for ESSV]

% fonts and encoding
\RequirePackage{mathptmx}
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}

% L10n
\RequirePackage[ngerman,english]{babel}
\RequirePackage{iflang}

% layout
\RequirePackage[verbose]{geometry}
\geometry{%
  margin=2.5cm,
  bottom=2cm
}
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancypagestyle{plain}{%
  \fancyhf{}
}

% format main title
\RequirePackage{setspace}
\RequirePackage{titling}
\setlength{\droptitle}{-1.3cm}
\pretitle{%
  \begin{center}
    \large
    \bf
    \scshape
    \setstretch{0.8}
}
\posttitle{%
    \par
  \end{center}
}
\preauthor{%
  \begin{center}
    \vspace{0.5cm}
    \it
}
\postauthor{%
    \par
    \vspace{-0.5cm}
  \end{center}
}
\predate{%
  \begin{center}
  \it
  \vspace{8pt}
}
\postdate{%
  \end{center}
  \vspace{8pt}
}

% format abstract
\addto\captionsngerman{%
  \renewcommand{\abstractname}%
    {Kurzfassung}%
}
\renewenvironment{abstract}{%th
  \begin{center}
  \begin{minipage}{13.9cm}
  \paragraph{\abstractname:}
}{%
  \end{minipage}
  \end{center}
}

% format section titles
\RequirePackage[small]{titlesec}
\titleformat*{\subsubsection}{}
\titlespacing*{\section}{0pt}{*2}{*3}
\titlespacing*{\paragraph}{0pt}{*2}{*0.5}

% format floats
\RequirePackage{caption}
\captionsetup{%
  margin=0.75cm,
  skip=0.25cm,
  font=footnotesize,
  labelfont=bf,
  labelsep=endash,
  singlelinecheck=off
}
\setlength{\textfloatsep}{5pt plus 1.0pt minus 2.0pt}
\setlength{\intextsep}{18pt plus 1.0pt minus 2.0pt}

% graphics
\RequirePackage{graphicx}

% hyperlinks
\RequirePackage[%
  colorlinks,
  linkcolor=black,
  citecolor=black,
  urlcolor=black,
  pdfusetitle
]{hyperref}

% metadata
\DeclareRobustCommand{\affil}[1]{\def\theaffil{#1}}
\DeclareRobustCommand{\email}[1]{\def\theemail{#1}}
\AtBeginDocument{\date{\theaffil\\\href{mailto:\theemail}{\theemail}}}

\endinput

%%
%% End of file `essv.sty'.
